> 최초 작성일 : 2018.07.11
>
> 작성자 : SuminGo
>
> 최종 수정일

# Struct와 Class의 차이점

### 목차

1. 개요
2. 장점
   2.1. 구조체의 장점
   2.2. 클래스의 장점
3. 얕은 복사와 깊은 복사
4. 참조

### 개요

사실 이 질문은 지금 실습으로 들어가는 회사의 면접을 보던 중, 스스로에게 궁금해 졌던 부분이었습니다. 그래서 이렇게 확실하게 정리해보기로 했습니다. 

구조체와 클래스라는 것은 모두 복합 데이터 형식입니다. 그리고 그 두 가지 모두 필드와 메소드를 가질 수 있습니다. 그렇다면 비슷한 기능을 가진 형식이 왜 두 가지나 있을까요?

비슷하지만 둘 사이에는 분명한 차이가 있습니다. 

| 특징          | 클래스                          | 구조체                            |
| ------------- | ------------------------------- | --------------------------------- |
| 키워드        | class                           | struct                            |
| 형식          | 참조 형식                       | 값 형식                           |
| 복사          | 얕은 복사                       | 깊은 복사                         |
| 인스턴스 생성 | new 연산자와 생성자 필요        | 선언만으로도 생성                 |
| 생성자        | 매개 변수 없는 생성자 선언 가능 | 매개 변수 없는 생성자 선언 불가능 |
| 상속          | 가능                            | System.ValuewType으로부터 상속    |

이 중에 가장 중요한 것은 **클래스는 참조 형식**이고 **구조체는 값 형식**이라는 것입니다.

이를 통해서 얕은 복사와 깊은 복사가 설명되며, 메모리 해제에 왜 도움이 되나 역시도 설명할 수 있습니다.  

### 2. 장점

#### 2.1. 구조체의 장점

구조체는 값형식이기 때문에 인스턴스가 선언된 스코프가 끝나면 가비지 컬랙터에 의해 자연스럽게 메모리가 해제 됩니다.

이렇게, **인스턴스가 선언된 스코프가 끝날 때, 메모리가 사라진다**는 것이 구조체의 장점입니다. 

#### 2.2. 클래스의 장점

다른 클래스로부터 상속을 받을 수 있어 **코드의 재활용성을 높일 수 있습니다.**

### 3. 얕은 복사와 깊은 복사

얕은 복사는 복사된 것의 값이 바뀔때 원본의 값도 바뀌는 것을 말하고 깊은 복사는 원본의 값과 복사된 값이 완전히 분리되어있는 것을 뜻합니다. 그런데, 클래스는 참조 형식이기 때문에 새로운 형식의 값이 들어오는 것이 아니라 기존에 있었던 값을 끌어다 쓰는 것과 비슷합니다. 그렇다면 복사된 것의 값이 바뀔 때, 당연히 원본의 값도 바뀝니다. 

이러한 일이 일어나면 얕은 복사라고 하고 반면, 값 형식으로 완전히 분리되어 있는 구조체는 깊은 복사를 가능하게 합니다.

### 4. 참조

+ 뇌를 자극하는 C# 5.0 프로그래밍
+ http://avilos.codes/programming/swift/swift-class%EC%99%80-struct/
+ ~~뇌피셜이 살짝 있기 때문에.. 자기 공부 용도로 쓴거기 때문에... 자신있지는 않습니다.....~~